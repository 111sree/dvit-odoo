<openerp>
    <data>
    	        
        <menuitem name="Fire Direct" id="firedirect.courses_root" />
        <menuitem name="Configuration" id="firedirect.courses_config" parent="firedirect.courses_root"/>
        <menuitem name="Booking" id="firedirect.courses_booking" parent="firedirect.courses_root"/>
        <menuitem name="Attendance" id="firedirect.courses_att" parent="firedirect.courses_root"/>
        <menuitem name="Dashboard" id="firedirect.courses_status" parent="firedirect.courses_root"/>
        <menuitem name="Reports" id="firedirect.courses_reports" parent="firedirect.courses_root"/>
        <menuitem name="Forms" id="firedirect.courses_forms" parent="firedirect.courses_root"/>

    	<!--AREAS-->
        <record model="ir.ui.view" id="view_firedirect_area_form">
            <field name="name">Area</field>
            <field name="model">firedirect.area</field>
            <field name="arch" type="xml">
                <form string="Area">
                    <group col="4">
                        <field name="address"/>
                        <field name="city"/>
                        <field name="country_id"/>
                    </group>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="view_firedirect_area_tree">
            <field name="name">Area</field>
            <field name="model">firedirect.area</field>
            <field name="arch" type="xml">
                <tree string="Area">
                    <field name="address"/>
                    <field name="city"/>
                    <field name="country_id"/>
                </tree>
            </field>
        </record>
        
        <record model="ir.ui.view" id="area_search_view">
            <field name="name">area.search</field>
            <field name="model">firedirect.area</field>
            <field name="arch" type="xml">
                <search>
                    <field name="address"/>
                    <field name="city"/>
                    <field name="country_id"/>
                </search>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_firedirect_area">
            <field name="name">Areas</field>
            <field name="res_model">firedirect.area</field>
            <field name="view_type">form</field>
        </record>
        <menuitem name="Areas" id="firedirect.courses_area" action="action_firedirect_area" parent="firedirect.courses_config" groups="group_course_manager"/>
    	<!--AREAS-->

    	<!--ATTENDANCE-->

        <record model="ir.ui.view" id="view_firedirect_att_tree">
            <field name="name">Attendance</field>
            <field name="model">firedirect.att</field>
            <field name="arch" type="xml">
                <tree string="Attendance" editable="top" create="0" delete="0" edit="1">
                    <field name="reservation_id" readonly="True"/>
                    <field name="student_id" readonly="True"/>
                    <field name="day" readonly="True"/>
                    <field name="status"/>
				</tree>
            </field>
        </record>
        
        <record model="ir.ui.view" id="att_search_view">
            <field name="name">att.search</field>
            <field name="model">firedirect.att</field>
            <field name="arch" type="xml">
                <search>
                    <field name="reservation_id"/>
                    <field name="date"/>
                    <field name="day"/>
                </search>
            </field>
        </record>
<!--
        <record model="ir.actions.act_window" id="action_firedirect_att">
            <field name="name">Attendance</field>
            <field name="res_model">firedirect.att</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
        </record>
        <menuitem name="Attendance" id="firedirect.courses_attd" action="action_firedirect_att" parent="firedirect.courses_att" groups="group_course_attendance,group_course_manager"/>-->
    	<!--ATTENDANCE-->


    	<!--Students-->
        <record model="ir.ui.view" id="view_firedirect_student_form">
            <field name="name">Student</field>
            <field name="model">firedirect.student</field>
            <field name="arch" type="xml">
                <form string="Student">
                    <group col="4">
                        <field name="name"/>
                        <field name="company_id"/>
                        <field name="position"/>
                        <field name="rig"/>
                        <field name="nationality_id"/>
                        <field name="email"/>
                        <field name="mobile"/>
                        <field name="id_type"/>
                        <field name="id_no"/>
                    </group>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="view_firedirect_student_tree">
            <field name="name">Student</field>
            <field name="model">firedirect.student</field>
            <field name="arch" type="xml">
                <tree string="Student">
                    <field name="name"/>
                    <field name="company_id"/>
                    <field name="position"/>
                    <field name="rig"/>
                    <field name="nationality_id"/>
                    <field name="email"/>
                    <field name="mobile"/>
                    <field name="id_type"/>
                    <field name="id_no"/>
                </tree>
            </field>
        </record>
        
        <record model="ir.ui.view" id="student_search_view">
            <field name="name">student.search</field>
            <field name="model">firedirect.student</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
                    <field name="company_id"/>
                    <field name="position"/>
                    <field name="rig"/>
                    <field name="email"/>
                    <field name="mobile"/>
                    <field name="nationality_id"/>
                    <field name="id_type"/>
                    <field name="id_no"/>
                </search>
            </field>
     	</record>

        <record model="ir.actions.act_window" id="action_firedirect_student">
            <field name="name">Students</field>
            <field name="res_model">firedirect.student</field>
            <field name="view_type">form</field>
        </record>
        <menuitem name="Students" id="firedirect.courses_student" action="action_firedirect_student" parent="firedirect.courses_booking" groups="group_course_booking"/>
    	<!--Students-->
        
    	<!--Reservations-->
        <record model="ir.ui.view" id="view_firedirect_reservation_form">
            <field name="name">Reservation</field>
            <field name="model">firedirect.reservation</field>
            <field name="arch" type="xml">
                <form string="Reservation">
                    <group col="4">
                        <field name="course_id" options="{'no_create': True}"/>
                        <field name="start_date"/>
                        <field name="start_time" class="input-time"/>
                        <field name="end_time" class="input-time"/>
                        <field name="end_date"/>
                        <field name="room_id" options="{'no_create': True}"/>
                        <field name="instructor_id" options="{'no_create': True}"/>
                    </group>
                    <group col="2">
                        <newline/>
                        <field name="student_ids"/>
                    </group>
                    <field name="rid" class="hidden"/>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="view_firedirect_reservation_tree">
            <field name="name">Reservation</field>
            <field name="model">firedirect.reservation</field>
            <field name="arch" type="xml">
                <tree string="Reservation">
                        <field name="course_id"/>
                        <field name="start_date"/>
                        <field name="start_time"/>
                        <field name="end_time"/>
                        <field name="end_date"/>
                        <field name="room_id"/>
                        <field name="instructor_id"/>
                </tree>
            </field>
        </record>
        
        <record model="ir.ui.view" id="reservation_search_view">
            <field name="name">reservation.search</field>
            <field name="model">firedirect.reservation</field>
            <field name="arch" type="xml">
                <search>
                    <field name="course_id"/>
                    <field name="start_date"/>
                    <field name="end_date"/>
                    <field name="room_id"/>
                    <field name="instructor_id"/>
                </search>
            </field>
	    </record>

        <record model="ir.actions.act_window" id="action_firedirect_reservation">
            <field name="name">Reservations</field>
            <field name="res_model">firedirect.reservation</field>
            <field name="view_type">form</field>
        </record>
        <menuitem name="Reservations" id="firedirect.courses_reservation" action="action_firedirect_reservation" parent="firedirect.courses_booking" groups="group_course_booking"/>
    	<!--Reservations-->
        

		


    	<!--Rooms-->
        <record model="ir.ui.view" id="view_firedirect_room_form">
            <field name="name">Room</field>
            <field name="model">firedirect.room</field>
            <field name="arch" type="xml">
                <form string="Room">
                    <group col="4">
                        <field name="name"/>
                        <field name="number"/>
                        <field name="capacity"/>
                        <field name="area_id"/>
                        <field name="course_ids"/>
                    </group>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="view_firedirect_room_tree">
            <field name="name">Room</field>
            <field name="model">firedirect.room</field>
            <field name="arch" type="xml">
                <tree string="Area">
                    <field name="name"/>
                    <field name="number"/>
                    <field name="capacity"/>
                    <field name="area_id"/>
                </tree>
            </field>
        </record>
        
        <record model="ir.ui.view" id="room_search_view">
            <field name="name">room.search</field>
            <field name="model">firedirect.room</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
                    <field name="number"/>
                    <field name="area_id"/>
                </search>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_firedirect_room">
            <field name="name">Rooms</field>
            <field name="res_model">firedirect.room</field>
            <field name="view_type">form</field>
        </record>
        <menuitem name="Rooms" id="firedirect.courses_room" action="action_firedirect_room" parent="firedirect.courses_config" groups="group_course_manager"/>
    	<!--Rooms-->


    	<!--Courses-->
        <record model="ir.ui.view" id="view_firedirect_course_form">
            <field name="name">Course</field>
            <field name="model">firedirect.course</field>
            <field name="arch" type="xml">
                <form string="Course">
                    <group col="4">
                        <field name="name"/>
                        <field name="duration"/>
                        <field name="instructor_id"/>
                    </group>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="view_firedirect_course_tree">
            <field name="name">Course</field>
            <field name="model">firedirect.course</field>
            <field name="arch" type="xml">
                <tree string="Course">
                    <field name="name"/>
                    <field name="duration"/>
                    <field name="instructor_id"/>
                </tree>
            </field>
        </record>
        
        <record model="ir.ui.view" id="course_search_view">
            <field name="name">course.search</field>
            <field name="model">firedirect.course</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
                    <field name="duration"/>
                    <field name="instructor_id"/>
                </search>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_firedirect_course">
            <field name="name">Courses</field>
            <field name="res_model">firedirect.course</field>
            <field name="view_type">form</field>
        </record>
        <menuitem name="Courses" id="firedirect.courses_course" action="action_firedirect_course" parent="firedirect.courses_config" groups="group_course_manager"/>
    	<!--Courses-->


		<!--Instructor Calendar-->
        <record model="ir.ui.view" id="instructor_calendar_view">
            <field name="name">instructor.calendar</field>
            <field name="model">firedirect.reservation</field>
            <field name="arch" type="xml">
                <instcalendar string="Sessions" date_start="start_date"
                          date_stop="end_date"
                          time_start="start_time"
                          time_stop="end_time"
                          display="[room_id]"
                          color="course_id"
                          all_day="all_day"
                          quick_add="False"
                          event_open_popup="True"
                          >
                    <field name="start_date"/>
                    <field name="end_date"/>
                    <field name="course_id"/>
                    <field name="room_id"/>
                    <field name="start_time"/>
                    <field name="end_time"/>
                </instcalendar>
            </field>
        </record>

        <record model="ir.actions.act_window" id="instructor_calendar_action">
            <field name="name">Sessions</field>
            <field name="res_model">firedirect.reservation</field>
            <field name="view_type">form</field>
            <field name="view_mode">instcalendar</field>
        	<field name="domain">[('instructor_id.user_id.id','=',uid)]</field>
        	<field name="readonly" eval="True"/>
	        <field name="context">{
            	'instcalendar_view_ref' : 'firedirect.instructor_calendar_view'
        	}</field>
        </record>
        
        <menuitem name="Calendar" id="firedirect.instructor_calendar" action="instructor_calendar_action" parent="firedirect.courses_status" groups="group_course_instructor"/>
        
		<!--Instructor Calendar-->

		<!--Admin Calendar-->
        <record model="ir.ui.view" id="manager_calendar_view">
            <field name="name">manager.calendar</field>
            <field name="model">firedirect.reservation</field>
            <field name="arch" type="xml">
                <instcalendar string="Sessions" date_start="start_date"
                          date_stop="end_date"
                          time_start="start_time"
                          time_stop="end_time"
                          display="[room_id] ([instructor_id])"
                          color="course_id"
                          all_day="all_day"
                          quick_add="False"
                          event_open_popup="True"
                          >
                    <field name="start_date"/>
                    <field name="end_date"/>
                    <field name="course_id"/>
                    <field name="instructor_id"/>
                    <field name="room_id"/>
                    <field name="start_time"/>
                    <field name="end_time"/>
                </instcalendar>
            </field>
        </record>

        <record model="ir.actions.act_window" id="manager_calendar_action">
            <field name="name">Sessions</field>
            <field name="res_model">firedirect.reservation</field>
            <field name="view_type">form</field>
            <field name="view_mode">instcalendar</field>
            <field name="view_id" ref="manager_calendar_view"/>
        	<field name="readonly" eval="True"/>
	        <field name="context">{
            	'instcalendar_view_ref' : 'firedirect.instructor_calendar_view'
        	}</field>
        </record>
        
        <menuitem name="Calendar" id="firedirect.manager_calendar" action="manager_calendar_action" parent="firedirect.courses_status" groups="group_course_manager"/>
        
		<!--Admin Calendar-->

        <!--PARTNER OVERRIDE -->
        
        <record model="ir.ui.view" id="firedirect_customer_form_view">
            <field name="name">firedirect.customer</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
	        	<xpath expr="/form/sheet/notebook/page[@string='Sales &amp; Purchases']" position="attributes">
					<attribute name="invisible">True</attribute>
				</xpath>
            </field>
     	</record>

        <record model="ir.actions.act_window" id="contact_list_action">
            <field name="name">Customers</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('customer','=',True),('is_company','=',True)]</field>
        </record>
        <menuitem id="contact_menu" name="Customers" parent="firedirect.courses_config" action="contact_list_action" groups="group_course_manager"/>


        <record model="ir.ui.view" id="firedirect_employee_form_view">
            <field name="name">firedirect.employee</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_form"/>
            <field name="arch" type="xml">
            	<data>
                    <field name="identification_id" position="before">
                        <field name="id_type" completion="1"/>
                    </field>
                    <field name="passport_id" position="after">
                        <field name="visa_expiry" completion="1"/>
                    </field>
                    <notebook position="inside">
                        <page string="Courses" groups="firedirect.group_course_manager">
	                        <field name="course_ids"/>
						</page>
                	</notebook>
            	</data>
            </field>
	     </record>

        <record model="ir.actions.act_window" id="instructor_list_action">
            <field name="name">Instructors</field>
            <field name="res_model">hr.employee</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('job_id','=','Instructor')]</field>
        </record>
        <menuitem id="instructor_menu" name="Instructors" parent="firedirect.courses_config" action="instructor_list_action" groups="group_course_manager"/>
        
        
        <template id="assets_backend" name="web_calendar assets" inherit_id="web.assets_backend">
            <xpath expr="." position="inside">
            	
                <link rel="stylesheet" href="/firedirect/static/css/jquery.timeentry.css"/>
                <link rel="stylesheet" href="/firedirect/static/css/custom.css"/>
                
                <script type="text/javascript" src="/firedirect/static/js/jquery.plugin.js"></script>
                <script type="text/javascript" src="/firedirect/static/js/jquery.timeentry.js"></script>
                <script type="text/javascript" src="/firedirect/static/js/firedirect.js"></script>

            </xpath>
        </template>
        
        
        
<!--    <record id="view_firedirect_config_settings" model="ir.ui.view">
        <field name="name">firedirect settings</field>
        <field name="model">firedirect.config.settings</field>
        <field name="arch" type="xml">
            <form string="Configure Firedirect" version="7.0" class="oe_form_configuration">
                <header>
                    <button string="Apply" type="object" name="execute" class="oe_highlight"/>
                    or
                    <button string="Cancel" type="object" name="cancel" class="oe_link"/>
                </header>
                <group col="4">
	                <field name="email_reservation"/>
	                <field name="email_expiring_visa"/>
                </group>
            </form>
        </field>
    </record>

    <record id="action_firedirect_config" model="ir.actions.act_window">
        <field name="name">Firedirect Settings</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">firedirect.config.settings</field>
        <field name="view_mode">form</field>
        <field name="target">inline</field>
    </record>

    <menuitem id="menu_custom_config" name="Firedirect Settings" parent="base.menu_config"
        sequence="16" action="action_firedirect_config"/>        
        
-->
        <record model="ir.ui.view" id="firedirect_users_form_view">
            <field name="name">firedirect.user</field>
            <field name="model">res.users</field>
            <field name="inherit_id" ref="hr.view_users_form_mail"/>
            <field name="arch" type="xml">
            	<data>
                    <field name="alias_id" position="attributes">
						<attribute name="invisible">True</attribute>
                    </field>
                    <field name="alias_name" position="attributes">
						<attribute name="invisible">True</attribute>
                    </field>
                    <field name="alias_domain" position="attributes">
						<attribute name="invisible">True</attribute>
                    </field>
                    <field name="display_employees_suggestions" position="attributes">
						<attribute name="invisible">True</attribute>
                    </field>
            	</data>
            </field>
	     </record>






    <record id="view_firedirect_attendance" model="ir.ui.view">
        <field name="name">firedirect.attendance.wizard</field>
        <field name="model">firedirect.attw</field>
        <field name="arch" type="xml">
        <form string="Attendance Report">
            <group>
                <field name="date"/>
                <field name="course_id"  options="{'no_create': True}"/>
                <field name="room_id"  options="{'no_create': True}"/>
                <field name="reservation_id"  options="{'no_create': True}"/>
                <field name="day"  options="{'no_create': True}"/>
            </group>
            <footer>
                <button name="dosearch" string="Search" type="object" class="oe_highlight"/> or
                <button string="Cancel" special="cancel" class="oe_link"/>
            </footer>
        </form>
        </field>
    </record>

    <record id="action_firedirect_attw" model="ir.actions.act_window">
        <field name="name">Attendance Wizard</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">firedirect.attw</field>
        <field name="view_type">form</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>
    
        


    <menuitem
        name="Student Attendance"
        parent="firedirect.courses_att"
        action="action_firedirect_attw"
        id="menu_firedirect_attw"
        groups="group_course_attendance"
        icon="STOCK_PRINT"/>

<!--
        <record model="ir.ui.view" id="firedirect_holidays">
            <field name="name">firedirect.holidays</field>
            <field name="model">hr.holidays</field>
            <field name="inherit_id" ref="hr_holidays.edit_holiday_new"/>
            <field name="arch" type="xml">
            	<data>
                    <field name="notes" position="before">
                        <field name="reservation_ids" completion="1"/>
                    </field>
            	</data>
            </field>
	     </record>
-->


		<!--<delete model="ir.ui.menu" id="hr.menu_hr_root" />-->

<!--        <menuitem name="Human Resources" id="hr.menu_hr_root" groups="base.group_hr_manager"/>-->
        
    </data>

</openerp>